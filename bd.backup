--
-- PostgreSQL database dump
--

-- Dumped from database version 9.2.4
-- Dumped by pg_dump version 9.2.4
-- Started on 2013-10-02 21:23:07 BRT

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 175 (class 3079 OID 11778)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2015 (class 0 OID 0)
-- Dependencies: 175
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 168 (class 1259 OID 28134)
-- Name: jogo; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE jogo (
    id integer NOT NULL,
    nome character varying(30) NOT NULL,
    tempo_maximo bigint DEFAULT 9223372036854775807::bigint NOT NULL
);


ALTER TABLE public.jogo OWNER TO postgres;

--
-- TOC entry 169 (class 1259 OID 28137)
-- Name: jogo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE jogo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.jogo_id_seq OWNER TO postgres;

--
-- TOC entry 2016 (class 0 OID 0)
-- Dependencies: 169
-- Name: jogo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE jogo_id_seq OWNED BY jogo.id;


--
-- TOC entry 170 (class 1259 OID 28139)
-- Name: jogo_usuario; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE jogo_usuario (
    usuario_id integer NOT NULL,
    jogo_id integer NOT NULL,
    melhor_tempo bigint DEFAULT 9223372036854775807::bigint,
    melhor_numero_acertos integer DEFAULT 0
);


ALTER TABLE public.jogo_usuario OWNER TO postgres;

--
-- TOC entry 171 (class 1259 OID 28144)
-- Name: questao; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE questao (
    id integer NOT NULL,
    jogo_id integer NOT NULL,
    numero smallint NOT NULL,
    texto text,
    alternativas json,
    resposta character varying(1) NOT NULL
);


ALTER TABLE public.questao OWNER TO postgres;

--
-- TOC entry 172 (class 1259 OID 28150)
-- Name: questao_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE questao_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.questao_id_seq OWNER TO postgres;

--
-- TOC entry 2017 (class 0 OID 0)
-- Dependencies: 172
-- Name: questao_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE questao_id_seq OWNED BY questao.id;


--
-- TOC entry 173 (class 1259 OID 28152)
-- Name: usuario; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE usuario (
    id integer NOT NULL,
    nome character varying(30) NOT NULL
);


ALTER TABLE public.usuario OWNER TO postgres;

--
-- TOC entry 174 (class 1259 OID 28155)
-- Name: usuario_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE usuario_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.usuario_id_seq OWNER TO postgres;

--
-- TOC entry 2018 (class 0 OID 0)
-- Dependencies: 174
-- Name: usuario_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE usuario_id_seq OWNED BY usuario.id;


--
-- TOC entry 1982 (class 2604 OID 28157)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY jogo ALTER COLUMN id SET DEFAULT nextval('jogo_id_seq'::regclass);


--
-- TOC entry 1986 (class 2604 OID 28158)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY questao ALTER COLUMN id SET DEFAULT nextval('questao_id_seq'::regclass);


--
-- TOC entry 1987 (class 2604 OID 28159)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY usuario ALTER COLUMN id SET DEFAULT nextval('usuario_id_seq'::regclass);


--
-- TOC entry 2001 (class 0 OID 28134)
-- Dependencies: 168
-- Data for Name: jogo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY jogo (id, nome, tempo_maximo) FROM stdin;
1	AMCE	9223372036854775807
\.


--
-- TOC entry 2019 (class 0 OID 0)
-- Dependencies: 169
-- Name: jogo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('jogo_id_seq', 1, true);


--
-- TOC entry 2003 (class 0 OID 28139)
-- Dependencies: 170
-- Data for Name: jogo_usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY jogo_usuario (usuario_id, jogo_id, melhor_tempo, melhor_numero_acertos) FROM stdin;
1	1	0	0
\.


--
-- TOC entry 2004 (class 0 OID 28144)
-- Dependencies: 171
-- Data for Name: questao; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY questao (id, jogo_id, numero, texto, alternativas, resposta) FROM stdin;
3	1	2	<p>Em função dos inúmeros buracos em um trecho da rua Alagoas, o engenheiro de obras da prefeitura\nde Londrina terá que planejar a substituição do asfalto do local. Para tanto, ajude-o a calcular a área que será\npavimentada para posteriores cálculos da quantidade de material necessário. Considere que a largura da rua (L) é\nigual a 8m e o comprimento do trecho (c) é igual a 1,144 km</p><img src="/amcequiz/assets/images/questions/2.jpeg" />	{\n\t"a":"$9,15m^2$",\n\t"b":"$9152m^2$",\n\t"c":"$9152km^2$",\n\t"d":"$91,52m^2$",\n\t"e":"N.R.A"\n}	b
1	1	1	<p>Num projeto para calcular a estrutura de uma obra é preciso analisar as forças que atuam nos\nmateriais utilizados. Para isso, um dos métodos usuais na engenharia é o círculo de Mohr, o qual nos indica\nas forças máximas que podem romper o material, assim como a localização dessas forças (representada\npelas linhas tracejadas).\nAs etapas que consistem o círculo de Mohr apresentam várias propriedades matemáticas, uma dessas\netapas é ilustrada na figura abaixo. De acordo com os seus conhecimentos de trigonometria, qual deve ser\no ângulo (em graus) formado entre as linhas tracejadas inscritas no círculo?\n</p><img src="/amcequiz/assets/images/questions/1.jpeg" />	{\n"a":"$30\\\\,^{\\\\circ}$",\n"b":"$90\\\\,^{\\\\circ}$",\n"c":"$60\\\\,^{\\\\circ}$",\n"d":"$45\\\\,^{\\\\circ}$",\n"e":"N.R.A."\n}	a
\.


--
-- TOC entry 2020 (class 0 OID 0)
-- Dependencies: 172
-- Name: questao_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('questao_id_seq', 3, true);


--
-- TOC entry 2006 (class 0 OID 28152)
-- Dependencies: 173
-- Data for Name: usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY usuario (id, nome) FROM stdin;
1	arthur
\.


--
-- TOC entry 2021 (class 0 OID 0)
-- Dependencies: 174
-- Name: usuario_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('usuario_id_seq', 1, true);


--
-- TOC entry 1989 (class 2606 OID 28161)
-- Name: pk_jogo; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY jogo
    ADD CONSTRAINT pk_jogo PRIMARY KEY (id);


--
-- TOC entry 1993 (class 2606 OID 28163)
-- Name: pk_questao; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY questao
    ADD CONSTRAINT pk_questao PRIMARY KEY (id);


--
-- TOC entry 1997 (class 2606 OID 28165)
-- Name: pk_usuario; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY usuario
    ADD CONSTRAINT pk_usuario PRIMARY KEY (id);


--
-- TOC entry 1991 (class 2606 OID 28167)
-- Name: pk_usuario_jogo; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY jogo_usuario
    ADD CONSTRAINT pk_usuario_jogo PRIMARY KEY (usuario_id, jogo_id);


--
-- TOC entry 1995 (class 2606 OID 28169)
-- Name: uq_jogo_numero_questao; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY questao
    ADD CONSTRAINT uq_jogo_numero_questao UNIQUE (jogo_id, numero);


--
-- TOC entry 2000 (class 2606 OID 28170)
-- Name: fk_questao_jogo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY questao
    ADD CONSTRAINT fk_questao_jogo FOREIGN KEY (jogo_id) REFERENCES jogo(id) ON UPDATE CASCADE;


--
-- TOC entry 1998 (class 2606 OID 28175)
-- Name: fk_usuario_jogo_jogo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY jogo_usuario
    ADD CONSTRAINT fk_usuario_jogo_jogo FOREIGN KEY (jogo_id) REFERENCES jogo(id) ON UPDATE CASCADE;


--
-- TOC entry 1999 (class 2606 OID 28180)
-- Name: fk_usuario_jogo_usuario; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY jogo_usuario
    ADD CONSTRAINT fk_usuario_jogo_usuario FOREIGN KEY (usuario_id) REFERENCES usuario(id) ON UPDATE CASCADE;


--
-- TOC entry 2014 (class 0 OID 0)
-- Dependencies: 6
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2013-10-02 21:23:08 BRT

--
-- PostgreSQL database dump complete
--

